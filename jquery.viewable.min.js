$.fn.viewable=function(e,t){function n(e,t){var n,i=$(t).width(),o=$(t).height(),a=e[0].getBoundingClientRect(),h=a.top,r=a.left,c=a.height,w=a.width,u=c*w,d=Math.min(Math.max(h>0?o-h:c+h,0),c),f=Math.min(Math.max(r>0?i-r:w+r,0),w),g=Math.round(f/w*100),l=Math.round(d/c*100),v=f*d,M=Math.round(v/u*100);return n={element:a,viewable:{area:v,areaPercentage:M,width:f,widthPercentage:g,height:d,heightPercentage:l}}}if("function"!=typeof e&&e!==!1)throw new Error("Whoops! You need to pass a callback.");t||(t=window),$(this).each(function(i,o){return $e=$(o),e===!1?void $e.off("view"):void function(i){i.on("view",function(i){e(i,n($(this),t))}),$(t).on("scroll",function(){i.trigger("view")}),$(window).on("load",function(){i.trigger("view")})}($e)})};
